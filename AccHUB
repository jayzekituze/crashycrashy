local osclock = os.clock()
repeat task.wait(1) until game:IsLoaded()
print("ACC_HUB")


getgenv().AutoTowerINF = AutoINF
local TowerINFCD = TowerCD
getgenv().AutoCollectPotions = AutoPotions
getgenv().AutoRaids = AutoRaid -- to turn stop doing raids do "false" to start it again do "true"
local raidDoneCD = RaidCD -- always add 3-5 seconds of your first raid done




local function teleportPlayer()
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

    local targetPosition = Vector3.new(439.45, 12.98, -454.59)
    humanoidRootPart.CFrame = CFrame.new(targetPosition)
end

local function fireServerEvent()
    local replicatedStorage = game:GetService("ReplicatedStorage")
    local event = replicatedStorage:FindFirstChild("0k5"):FindFirstChild("ad5ee225-6a2f-4c5b-9e1e-1d4d3c581868")
    
    if event then
        event:FireServer()
    else
        warn("Event not found!")
    end
end

task.spawn(function()
    while true do
        if getgenv().AutoTowerINF then
            teleportPlayer()
            fireServerEvent()
            task.wait(TowerINFCD)
        else
            task.wait(1) -- Wait a bit before checking again
        end
    end
end)

task.spawn(function()
    while task.wait(0.10) do
        if getgenv().AutoCollectPotions == true then
            local foundPotion = false  
            local function checkPotions(folderName)
                local folder = game:GetService('Workspace')['Folder']:FindFirstChild(folderName)
                if folder then 
                    for _, potion in pairs(folder:GetChildren()) do
                        if potion:IsA("Part") then

                            game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = potion.CFrame


                            local humanoid = game.Players.LocalPlayer.Character:FindFirstChildOfClass("Humanoid")
                            if humanoid then
                                humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
                            end

                            return true 
                        end
                    end
                end
                return false  
            end

            foundPotion = checkPotions("potion_red") or
                        checkPotions("potion_green") or
                        checkPotions("potion_blue") or
                        checkPotions("potion_rainbow")
        end
end)

task.spawn(function()
    if getgenv().AutoRaids == true then
        wait(5)
        local function teleportPlayer()
            local player = game.Players.LocalPlayer
            local character = player.Character or player.CharacterAdded:Wait()
            local humanoidRootPart = character:WaitForChild("HumanoidRootPart")


            local targetPosition = Vector3.new(-5285.70751953125, 161.93984985351562, -500.4004821777344)


            humanoidRootPart.CFrame = CFrame.new(targetPosition)
        end
        teleportPlayer()
    end
end)

task.spawn(function()
    while task.wait(0.10) do
        if getgenv().AutoRaids == true then
            wait(5)
            local raid = game.Workspace:FindFirstChild("raid")
            local eternalDragon = raid and raid:FindFirstChild("eternal_dragon")
            local blueEyes = eternalDragon and eternalDragon:FindFirstChild("Blue Eyes White Dragon")
            local prox = blueEyes and blueEyes:FindFirstChild("ProximityPrompt")

            if prox then
                fireproximityprompt(prox)
                print("Raid Started")
                task.wait(raidDoneCD)
            else
                print("Proximity Prompt not found!")
            end
        end
    end
end)
